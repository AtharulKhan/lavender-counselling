document.addEventListener("DOMContentLoaded",function(){tppoMetro(document)}),window.addEventListener("resize",function(){tppoMetro(document)}),document.addEventListener("DOMContentLoaded",function(){document.body.addEventListener("post-load",function(){setTimeout(function(){tppoMetro(document)},800)})}),document.body.addEventListener("resort-isotope",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("tabs-reinited",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("isotope-sorted",function(){setTimeout(function(){tppoMetro(document)},500)});function tppoMetro(a){var b=a.querySelectorAll(".tpgb-metro");0<b.length&&b.forEach(function(a){tpgbMetroLayout(a)}),"function"==typeof tpFilter&&tpFilter(a)}function tpgbMetroLayout(a){var b=a.getAttribute("data-id"),c=JSON.parse(a.getAttribute("data-metroAttr")),d=window.innerWidth,e=1024<=d,f=768<=d&&1024>d,g=768>d,h="",i=window;if(e&&c.metro_col&&(h=c.metro_col),f&&c.tab_metro_col&&(h=c.tab_metro_col),g&&c.mobile_metro_col&&(h=c.mobile_metro_col),"3"==h){var j=Math.floor((a.offsetWidth-0)/3),k=2*j;a.querySelectorAll(".grid-item").forEach(function(a){var b=j,h=j;if(e&&"style-1"==c.metro_style||f&&"style-1"==c.tab_metro_style||g&&"style-1"==c.mobile_metro_style)(e&&(a.classList.contains("tpgb-metro-1")||a.classList.contains("tpgb-metro-7"))||f&&(a.classList.contains("tpgb-tab-metro-1")||a.classList.contains("tpgb-tab-metro-7"))||g&&(a.classList.contains("tpgb-mobile-metro-1")||a.classList.contains("tpgb-mobile-metro-7")))&&(b=k,h=k),(e&&(a.classList.contains("tpgb-metro-4")||a.classList.contains("tpgb-metro-9"))||f&&(a.classList.contains("tpgb-tab-metro-4")||a.classList.contains("tpgb-tab-metro-9"))||g&&(a.classList.contains("tpgb-mobile-metro-4")||a.classList.contains("tpgb-mobile-metro-9")))&&(b=k,h=j);else if(e&&"style-2"==c.metro_style||f&&"style-2"==c.tab_metro_style||g&&"style-2"==c.mobile_metro_style)(e&&a.classList.contains("tpgb-metro-2")||f&&a.classList.contains("tpgb-tab-metro-2")||g&&a.classList.contains("tpgb-mobile-metro-2"))&&(b=k,h=j),(e&&(a.classList.contains("tpgb-metro-4")||a.classList.contains("tpgb-metro-8"))||f&&(a.classList.contains("tpgb-tab-metro-4")||a.classList.contains("tpgb-tab-metro-8"))||g&&(a.classList.contains("tpgb-mobile-metro-4")||a.classList.contains("tpgb-mobile-metro-8")))&&(b=j,h=k),(e&&a.classList.contains("tpgb-metro-7")||f&&a.classList.contains("tpgb-tab-metro-7")||g&&a.classList.contains("tpgb-mobile-metro-7"))&&(b=k,h=k);else if(e&&"style-3"==c.metro_style||f&&"style-3"==c.tab_metro_style||g&&"style-3"==c.mobile_metro_style)(e&&(a.classList.contains("tpgb-metro-4")||a.classList.contains("tpgb-metro-15"))||f&&(a.classList.contains("tpgb-tab-metro-4")||a.classList.contains("tpgb-tab-metro-15"))||g&&(a.classList.contains("tpgb-mobile-metro-4")||a.classList.contains("tpgb-mobile-metro-15")))&&(b=k,h=j),(e&&a.classList.contains("tpgb-metro-9")||f&&a.classList.contains("tpgb-tab-metro-9")||g&&a.classList.contains("tpgb-mobile-metro-9"))&&(b=j,h=k),(e&&a.classList.contains("tpgb-metro-10")||f&&a.classList.contains("tpgb-tab-metro-10")||g&&a.classList.contains("tpgb-mobile-metro-10"))&&(b=k,h=k);else if(e&&"style-4"==c.metro_style||f&&"style-4"==c.tab_metro_style||g&&"style-4"==c.mobile_metro_style)(e&&a.classList.contains("tpgb-metro-1")||f&&a.classList.contains("tpgb-tab-metro-1")||g&&a.classList.contains("tpgb-mobile-metro-1"))&&(b=k,h=k),(e&&a.classList.contains("tpgb-metro-7")||f&&a.classList.contains("tpgb-tab-metro-7")||g&&a.classList.contains("tpgb-mobile-metro-7"))&&(b=k,h=j);else if(e&&"custom"==c.metro_style||f&&"custom"==c.tab_metro_style||g&&"custom"==c.mobile_metro_style){var i=c.customLay;for(var l in i){let c=i[l].layout.split(":");(e&&a.classList.contains("tpgb-metro-"+l)||f&&a.classList.contains("tpgb-tab-metro-"+l)||g&&a.classList.contains("tpgb-mobile-metro-"+l))&&(b=j*c[0],h=j*c[1])}}768>d?(a.style.width="100%",a.style.height=2*k+"px"):(a.style.width=b+"px",a.style.height=h+"px")})}if("4"==h){var j=Math.floor((a.offsetWidth-0)/4),k=2*j;a.querySelectorAll(".grid-item").forEach(function(a){var b=j,h=j;if((e&&"style-1"==c.metro_style||f&&"style-1"==c.tab_metro_style||g&&"style-1"==c.mobile_metro_style)&&((e&&(a.classList.contains("tpgb-metro-3")||a.classList.contains("tpgb-metro-9"))||f&&(a.classList.contains("tpgb-tab-metro-3")||a.classList.contains("tpgb-tab-metro-9"))||g&&(a.classList.contains("tpgb-mobile-metro-3")||a.classList.contains("tpgb-mobile-metro-9")))&&(b=k,h=k),(e&&(a.classList.contains("tpgb-metro-4")||a.classList.contains("tpgb-metro-10"))||f&&(a.classList.contains("tpgb-tab-metro-4")||a.classList.contains("tpgb-tab-metro-10"))||g&&(a.classList.contains("tpgb-mobile-metro-4")||a.classList.contains("tpgb-mobile-metro-10")))&&(b=k,h=j)),(e&&"style-2"==c.metro_style||f&&"style-2"==c.tab_metro_style||g&&"style-2"==c.mobile_metro_style)&&((e&&(a.classList.contains("tpgb-metro-1")||a.classList.contains("tpgb-metro-5")||a.classList.contains("tpgb-metro-9")||a.classList.contains("tpgb-metro-10"))||f&&(a.classList.contains("tpgb-tab-metro-1")||a.classList.contains("tpgb-tab-metro-5")||a.classList.contains("tpgb-tab-metro-9")||a.classList.contains("tpgb-tab-metro-10"))||g&&(a.classList.contains("tpgb-mobile-metro-1")||a.classList.contains("tpgb-mobile-metro-5")||a.classList.contains("tpgb-mobile-metro-9")||a.classList.contains("tpgb-mobile-metro-10")))&&(b=k,h=k),(e&&(a.classList.contains("tpgb-metro-2")||a.classList.contains("tpgb-metro-8"))||f&&(a.classList.contains("tpgb-tab-metro-2")||a.classList.contains("tpgb-tab-metro-8"))||g&&(a.classList.contains("tpgb-mobile-metro-2")||a.classList.contains("tpgb-mobile-metro-8")))&&(b=k,h=j)),e&&"style-3"==c.metro_style||f&&"style-3"==c.tab_metro_style||g&&"style-3"==c.mobile_metro_style)(e&&a.classList.contains("tpgb-metro-5")||f&&a.classList.contains("tpgb-tab-metro-5")||g&&a.classList.contains("tpgb-mobile-metro-5"))&&(b=k,h=j),(e&&a.classList.contains("tpgb-metro-1")||f&&a.classList.contains("tpgb-tab-metro-1")||g&&a.classList.contains("tpgb-mobile-metro-1"))&&(b=j,h=k),(e&&(a.classList.contains("tpgb-metro-3")||a.classList.contains("tpgb-metro-6"))||f&&(a.classList.contains("tpgb-tab-metro-3")||a.classList.contains("tpgb-tab-metro-6"))||g&&(a.classList.contains("tpgb-mobile-metro-3")||a.classList.contains("tpgb-mobile-metro-6")))&&(b=k,h=k);else if(e&&"custom"==c.metro_style||f&&"custom"==c.tab_metro_style||g&&"custom"==c.mobile_metro_style){var i=c.customLay;for(var l in i){let c=i[l].layout.split(":");(e&&a.classList.contains("tpgb-metro-"+l)||f&&a.classList.contains("tpgb-tab-metro-"+l)||g&&a.classList.contains("tpgb-mobile-metro-"+l))&&(b=j*c[0],h=j*c[1])}}768>d?(a.style.width="100%",a.style.height=2*k+"px"):(a.style.width=b+"px",a.style.height=h+"px")})}if("5"==h){var j=Math.floor((a.offsetWidth-0)/5),k=2*j;a.querySelectorAll(".grid-item").forEach(function(a){var b=j,h=j;if(e&&"custom"==c.metro_style||f&&"custom"==c.tab_metro_style||g&&"custom"==c.mobile_metro_style){var i=c.customLay;for(var l in i){let c=i[l].layout.split(":");(e&&a.classList.contains("tpgb-metro-"+l)||f&&a.classList.contains("tpgb-tab-metro-"+l)||g&&a.classList.contains("tpgb-mobile-metro-"+l))&&(b=j*c[0],h=j*c[1])}}else(e&&(a.classList.contains("tpgb-metro-5")||a.classList.contains("tpgb-metro-15"))||f&&(a.classList.contains("tpgb-tab-metro-5")||a.classList.contains("tpgb-tab-metro-15"))||g&&(a.classList.contains("tpgb-mobile-metro-5")||a.classList.contains("tpgb-mobile-metro-15")))&&(b=k,h=k),(e&&(a.classList.contains("tpgb-metro-1")||a.classList.contains("tpgb-metro-2")||a.classList.contains("tpgb-metro-9")||a.classList.contains("tpgb-metro-10"))||f&&(a.classList.contains("tpgb-tab-metro-1")||a.classList.contains("tpgb-tab-metro-2")||a.classList.contains("tpgb-tab-metro-9")||a.classList.contains("tpgb-tab-metro-10"))||g&&(a.classList.contains("tpgb-mobile-metro-1")||a.classList.contains("tpgb-mobile-metro-2")||a.classList.contains("tpgb-mobile-metro-9")||a.classList.contains("tpgb-mobile-metro-10")))&&(b=k,h=j),(e&&(a.classList.contains("tpgb-metro-3")||a.classList.contains("tpgb-metro-6")||a.classList.contains("tpgb-metro-14"))||f&&(a.classList.contains("tpgb-tab-metro-3")||a.classList.contains("tpgb-tab-metro-6")||a.classList.contains("tpgb-tab-metro-14"))||g&&(a.classList.contains("tpgb-mobile-metro-3")||a.classList.contains("tpgb-mobile-metro-6")||a.classList.contains("tpgb-mobile-metro-14")))&&(b=j,h=k);768>d?(a.style.width="100%",a.style.height=2*k+"px"):(a.style.width=b+"px",a.style.height=h+"px")})}if("6"==h){var j=Math.floor((a.offsetWidth-0)/6),k=2*j;a.querySelectorAll(".grid-item").forEach(function(a){var b=j,h=j;if(e&&"custom"==c.metro_style||f&&"custom"==c.tab_metro_style||g&&"custom"==c.mobile_metro_style){var i=c.customLay;for(var l in i){let c=i[l].layout.split(":");(e&&a.classList.contains("tpgb-metro-"+l)||f&&a.classList.contains("tpgb-tab-metro-"+l)||g&&a.classList.contains("tpgb-mobile-metro-"+l))&&(b=j*c[0],h=j*c[1])}}else(e&&(a.classList.contains("tpgb-metro-1")||a.classList.contains("tpgb-metro-5")||a.classList.contains("tpgb-metro-9")||a.classList.contains("tpgb-metro-10"))||f&&(a.classList.contains("tpgb-tab-metro-1")||a.classList.contains("tpgb-tab-metro-5")||a.classList.contains("tpgb-tab-metro-9")||a.classList.contains("tpgb-tab-metro-10"))||g&&(a.classList.contains("tpgb-mobile-metro-1")||a.classList.contains("tpgb-mobile-metro-5")||a.classList.contains("tpgb-mobile-metro-9")||a.classList.contains("tpgb-mobile-metro-10")))&&(b=k,h=k),(e&&(a.classList.contains("tpgb-metro-2")||a.classList.contains("tpgb-metro-7")||a.classList.contains("tpgb-metro-14")||a.classList.contains("tpgb-metro-15")||a.classList.contains("tpgb-metro-16"))||f&&(a.classList.contains("tpgb-tab-metro-2")||a.classList.contains("tpgb-tab-metro-7")||a.classList.contains("tpgb-tab-metro-14")||a.classList.contains("tpgb-tab-metro-15")||a.classList.contains("tpgb-tab-metro-16"))||g&&(a.classList.contains("tpgb-mobile-metro-2")||a.classList.contains("tpgb-mobile-metro-7")||a.classList.contains("tpgb-mobile-metro-14")||a.classList.contains("tpgb-mobile-metro-15")||a.classList.contains("tpgb-mobile-metro-16")))&&(b=k,h=j),(e&&(a.classList.contains("tpgb-metro-4")||a.classList.contains("tpgb-metro-6")||a.classList.contains("tpgb-metro-8"))||f&&(a.classList.contains("tpgb-tab-metro-4")||a.classList.contains("tpgb-tab-metro-6")||a.classList.contains("tpgb-tab-metro-8"))||g&&(a.classList.contains("tpgb-mobile-metro-4")||a.classList.contains("tpgb-mobile-metro-6")||a.classList.contains("tpgb-mobile-metro-8")))&&(b=j,h=k);768>d?(a.style.width="100%",a.style.height=2*k+"px"):(a.style.width=b+"px",a.style.height=h+"px")})}if(a.classList.contains("tpgb-metro")){var l=document.querySelector(".tpgb-block-"+b),m=l.querySelector(".post-loop-inner");let c={itemSelector:".grid-item",layoutMode:"masonry",masonry:{columnWidth:j}};a?767<i.innerWidth?new Isotope(m,c):new Isotope(m,c):new Isotope(m,{layoutMode:"masonry",masonry:{columnWidth:j}}),"function"==typeof m.isotope&&m.isotope("layout"),imagesLoaded(m,function(){"function"==typeof m.isotope&&m.isotope("layout").isotope("reloadItems")})}}