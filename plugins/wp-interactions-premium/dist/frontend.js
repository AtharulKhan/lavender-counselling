/*! For license information please see frontend.js.LICENSE.txt */
(()=>{"use strict";function t(t){"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",t):t())}const e="undefined"!=typeof window,i=e?window:null,n=e?document:null,s={replace:0,none:1,blend:2},r=Symbol(),a=Symbol(),o=Symbol(),l=Symbol(),c=(Symbol(),Symbol()),u=1e-11,h=1e12,d=1e3,m="",_=new Map;_.set("x","translateX"),_.set("y","translateY"),_.set("z","translateZ");const p=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],g=p.reduce(((t,e)=>({...t,[e]:e+"("})),{}),f=()=>{},y=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,b=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,T=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,S=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,D=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,v=/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g,k=/^([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?)+([a-z]+|%)$/i,E=/([a-z])([A-Z])/g,w=/(\w+)(\([^)]+\)+)/g,N=/(\*=|\+=|-=)/,C={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:120,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:d,delay:0,loopDelay:0,ease:"outQuad",composition:s.replace,modifier:t=>t,onBegin:f,onUpdate:f,onTick:f,onRender:f,onLoop:f,onComplete:f},R=(t,e)=>0===t.indexOf(e),x=Date.now,$=t=>Array.isArray(t),A=t=>t&&t.constructor===Object,P=t=>"number"==typeof t&&!isNaN(t),I=t=>"string"==typeof t,O=t=>"function"==typeof t,M=t=>void 0===t,L=t=>M(t)||null===t,F=t=>e&&t instanceof SVGElement,W=t=>y.test(t),B=t=>R(t,"rgb"),q=t=>R(t,"hsl"),j=t=>!C.hasOwnProperty(t),V=t=>I(t)?parseFloat(t):t,U=Math.pow,z=Math.sqrt,H=Math.sin,Q=Math.cos,X=Math.abs,Y=(Math.exp,Math.ceil),Z=Math.floor,J=Math.asin,G=Math.max,K=(Math.atan2,Math.PI),tt=(t,e,i)=>t<e?e:t>i?i:t,et=(t,e)=>{const i=10**(e||0);return Math.round(t*i)/i},it=(t,e,i)=>t+(e-t)*i,nt=t=>t===1/0?h:t===-1/0?-h:t,st=t=>t<u?u:t,rt=t=>e?(I(t)&&(t=(t=>{try{return n.querySelectorAll(t)}catch(t){}})(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t]):[t],at=t=>$(t)?[...t]:t,ot=(t,e)=>{const i={...t};for(const n in e)i[n]=M(t[n])?e[n]:t[n];return i},lt=(t,e,i,n="_prev",s="_next")=>{let r=t._head,a=s;for(i&&(r=t._tail,a=n);r;){const t=r[a];e(r),r=t}},ct=(t,e,i="_prev",n="_next")=>{const s=e[i],r=e[n];s?s[n]=r:t._head=r,r?r[i]=s:t._tail=s,e[i]=null,e[n]=null},ut=(t,e,i,n="_prev",s="_next")=>{let r=t._tail;for(;r&&i&&i(r,e);)r=r[n];const a=r?r[s]:t._head;r?r[s]=e:t._head=e,a?a[n]=e:t._tail=e,e[n]=r,e[s]=a};class ht{constructor(){this.currentTime=0,this.deltaTime=0,this._elapsedTime=0,this._startTime=0,this._lastTime=0,this._scheduledTime=0,this._frameDuration=d/120,this._fps=120,this._speed=1,this._hasChildren=!1}get frameRate(){return this._fps}set frameRate(t){const e=this._frameDuration,i=+t,n=i<u?u:i,s=d/n;this._fps=n,this._frameDuration=s,this._scheduledTime+=s-e}get playbackRate(){return this._speed}set playbackRate(t){const e=+t;this._speed=e<u?u:e}requestTick(t){const e=this._scheduledTime,i=this._elapsedTime;if(this._elapsedTime+=t-i,i<e)return 0;const n=this._frameDuration,s=i-e;return this._scheduledTime+=s<n?n:s,1}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const dt=(t,e,i,n,r)=>{const a=t.duration,o=t.currentTime,c=t._currentIteration,u=t._iterationDuration,h=t._iterationCount,d=t._loopDelay,_=t._reversed,p=t._alternate,f=t._hasChildren,y=t._delay,b=y+u,T=tt(e-y,-y,a),S=T-o,D=T>=a,v=2===r,k=1===r,E=v||(S<0?-1*S:S)>=200;let w=t.began,N=0,C=T;if(h>1){const e=~~(T/(u+(D?0:d)));t._currentIteration=tt(e,0,h),D&&t._currentIteration--,N=t._currentIteration%2,C=T%(u+d)}const R=_^(p&&N),x=t._ease;let $=D?R?0:a:R?u-C:C;x&&($=u*x($/u)||0);const A=$<t._iterationTime,P=E?A?2:1:0;t._iterationTime=$,t._backwards=A&&!R,!i&&!w&&T>0&&(w=t.began=!0,t.onBegin(t)),t.currentTime=T;let I=0;if(w&&t._currentIteration!==c&&(t.onLoop(t),f&&lt(t,(t=>t.reset()),!0)),(v||k&&(e>=y&&e<=b||e<=y&&o>0||e>=b&&o!==a)||$>=b&&o!==a||$<=y&&o>0||e<=o&&o===a&&t.completed)&&(w&&(t.computeDeltaTime(o),t.onUpdate(t)),!f)){let e,i,r,a,o=t._head,c=0;const u=t._offset+y+$;for(;o;){const t=o._composition,h=o._currentTime,d=o._changeDuration,_=o._absoluteStartTime+o._changeDuration,p=o._nextRep,f=o._prevRep,y=t===s.blend,b=t===s.none;if((P||(h!==d||u<=_+(p?p._delay:0))&&(0!==h||u>=o._absoluteStartTime))&&(b||!o._isOverridden&&(!o._isOverlapped||u<=_)&&(!p||p._isOverridden||u<=p._absoluteStartTime)&&(!f||f._isOverridden||u>=f._absoluteStartTime+f._changeDuration+o._delay))){const t=o._currentTime=tt($-o._startTime,0,d),s=o._ease(t/o._updateDuration),u=o._modifier,h=o._valueType;let m,_;if(0===h)m=_=u(it(o._fromNumber,o._toNumber,s));else if(1===h)_=u(et(it(o._fromNumber,o._toNumber,s),3)),m=`${_}${o._unit}`;else if(2===h){const t=o._fromNumbers,e=o._toNumbers;try{const i=et(tt(u(it(t[0],e[0],s)),0,255),0),n=et(tt(u(it(t[1],e[1],s)),0,255),0);m=`rgba(${i},${n},${et(tt(u(it(t[2],e[2],s)),0,255),0)},${tt(u(it(t[3],e[3],s)),0,1)})`}catch(t){console.error(t)}}else if(3===h){m=o._strings[0];for(let t=0,e=o._toNumbers.length;t<e;t++){const e=u(et(it(o._fromNumbers[t],o._toNumbers[t],s),5)),i=o._strings[t+1];m+=`${i?e+i:e}`,y&&(o._numbers[t]=e)}}if(b||(o._number=_),n||y)o._value=m;else{const t=o.property,n=o._tweenType;e=o.target,1===n?"currentTime"===t&&e.seeking||(e[t]=m):2===n?e.setAttribute(t,m):(i=e.style,4===n?(e!==r&&(r=e,a=e[l]),a[t]=m,c=1):3===n?i.setProperty(t,m,"important"):5===n&&i.setProperty(t,m)),w&&(I=1)}}if(c&&o._renderTransforms){let t=m;"perspective"in a&&(t=`perspective(${a.perspective}) ${t}`,delete a.perspective);for(const e in a)t+=`${g[e]}${a[e]}) `;i.setProperty("transform",t,"important"),c=0}o=o._next}I&&t.onRender(t)}return w&&D&&(h===1/0?t._startTime+=t.duration:t._currentIteration>=h-1&&(t.paused=!0,t.completed||(t.completed=!0,t.onComplete(t),t._resolve(t)))),I},mt=(t,e,i,n,s)=>{if(dt(t,e,i,n,s),t._hasChildren){let r=0;const a=n?e:t._iterationTime,o=x();lt(t,(e=>{r+=dt(e,(a-e._offset)*e._speed,i,n,e._fps<t._fps?e.requestTick(o):s)}),t._backwards),t.began&&r&&t.onRender(t)}},_t={animation:null,update:f},pt=e?requestAnimationFrame:setImmediate,gt=e?cancelAnimationFrame:clearImmediate,ft=new class extends ht{constructor(){super();const t=x();this.currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this.useDefaultMainLoop=!0,this.suspendWhenHidden=!0,this._reqId=0,this._head=null,this._tail=null}update(){const t=this.currentTime=x();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,i=this._fps;let n=this._head;for(;n;){const s=n._next;n.paused?(ct(ft,n),this._hasChildren=!!this._tail,n._running=!1,n.completed&&!n._cancelled&&n.cancel()):mt(n,(t-n._startTime)*n._speed*e,0,0,n._fps<i?n.requestTick(t):1),n=s}_t.update()}}start(){return this.useDefaultMainLoop&&!this._reqId?this._reqId=pt(yt):0}resume(){return lt(this,(t=>t.resetTime())),this.start()}suspend(){return this._reqId=gt(this._reqId),this}get playbackRate(){return super.playbackRate}set playbackRate(t){super.playbackRate=t,lt(this,(t=>t.playbackRate=t._speed))}},yt=()=>{ft._head?(ft._reqId=pt(yt),ft.update()):ft._reqId=0},bt=t=>{if(!L(t)){if($(t)){const e=[].concat(...t.map(rt));return e.filter(((t,i)=>e.indexOf(t)===i))}return rt(t)}},Tt=t=>{if(L(t))return;const e=bt(t);for(let t=0,i=e.length;t<i;t++){const i=e[t];if(!i[r]){i[r]=!0;const t=F(i);(i.nodeType||t)&&(i[a]=!0,i[o]=t,i[l]={})}}return e},St=t=>t,Dt=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,vt=K/2,kt=2*K,Et=(t=1.64)=>e=>U(e,+t),wt={[m]:Et,Quad:Et(2),Cubic:Et(3),Quart:Et(4),Quint:Et(5),Sine:t=>1-Q(t*vt),Circ:t=>1-z(1-t*t),Expo:t=>t?U(2,10*t-10):0,Bounce:t=>{let e,i=4;for(;t<((e=U(2,--i))-1)/11;);return 1/U(4,3-i)-7.5625*U((3*e-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const i=tt(+t,1,10),n=tt(+e,u,2),s=n/kt*J(1/i),r=kt/n;return t=>0===t||1===t?t:-i*U(2,-10*(1-t))*H((1-t-s)*r)}},Nt={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},Ct=(...t)=>{const e=t.length;if(!e)return St;const i=e-1,n=t[0],s=t[i],r=[0],a=[V(n)];for(let e=1;e<i;e++){const n=t[e],s=I(n)?n.trim().split(" "):[n],o=s[0],l=s[1];r.push(M(l)?e/i:V(l)/100),a.push(V(o))}return a.push(V(s)),r.push(1),function(t){for(let e=1,i=r.length;e<i;e++){const i=r[e];if(t<=i){const n=r[e-1],s=a[e-1];return s+(a[e]-s)*(t-n)/(i-n)}}return a[a.length-1]}},Rt={linear:Ct,irregular:(t=10,e=1)=>{const i=[0],n=t-1;for(let t=1;t<n;t++){const s=i[t-1],r=t/n,a=r*(1-e)+(r+((t+1)/n-r)*Math.random())*e;i.push(tt(a,s,1))}return i.push(1),Ct(...i)},steps:(t=10,e)=>{const i=e?Y:Z;return e=>i(tt(e,0,1)*t)*(1/t)},cubicBezier:(t,e,i,n)=>t===e&&i===n?St:s=>0===s||1===s?s:Dt(((t,e,i)=>{let n,s,r=0,a=1,o=0;do{n=r+(a-r)/2,s=Dt(n,e,i)-t,s>0?a=n:r=n}while(X(s)>1e-7&&++o<100);return n})(s,t,i),e,n)},xt={linear:St};for(const t in Nt)for(const e in wt){const i=wt[e],n=Nt[t],s=e===m||"Back"===e||"Elastic"===e,r=s?(t,e)=>n(i(t,e)):n(i),a=t+e;Rt[a]=r,xt[a]=s?r():r}const $t=t=>O(t)?t:I(t)?xt[t]?xt[t]:(t=>{if(t.indexOf("(")<=-1)return St;const e=t.slice(0,-1).split("("),i=Rt[e[0]];return i?xt[t]=i(...e[1].split(",")):St})(t):St,At=["opacity","rotate","overflow","color"],Pt=(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t),It=(t,e)=>M(t)?e:t,Ot=(t,e,i,n,s)=>{if(O(t)){const r=()=>{const s=t(e,i,n);return isNaN(+s)?s||0:+s};return s&&(s.func=r),r()}return t},Mt=(t,e)=>{const i=t[a]?t[o]&&((t,e)=>{if(At.includes(e))return!1;if(e in t.style||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?2:p.includes(e)||_.get(e)?4:R(e,"--")?5:e in t.style?3:L(t.getAttribute(e))?M(t[e])?0:1:2:1;return 0===i&&console.warn(`Can't find property '${e}' on target '${t}'.`),i},Lt=(t,e,i)=>{const n=t.style[e];n&&i&&(i[e]=n);const s=n||getComputedStyle(t[c]||t).getPropertyValue(e);return"auto"===s?"0":s},Ft=(t,e,i,n)=>{const s=M(i)?Mt(t,e):i;return 1===s?t[e]||0:2===s?t.getAttribute(e):4===s?((t,e,i)=>{const n=t.style.transform;let s;if(n){const r=t[l];let a;for(;a=w.exec(n);){const t=a[1],n=a[2].slice(1,-1);r[t]=n,t===e&&(s=n,i&&(i[e]=n))}}return n&&!M(s)?s:R(e,"scale")?"1":R(e,"rotate")||R(e,"skew")?"0deg":"0px"})(t,e,n):5===s?Lt(t,e,n).trimStart():Lt(t,e,n)},Wt=(t,e,i)=>"-"===i?t-e:"+"===i?t+e:t*e,Bt=(t,e)=>{if(e.t=0,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;let i=t;const n=+i;if(!isNaN(n))return e.n=n,e;const s=N.exec(i);s&&(i=i.slice(2),e.o=s[0][0]);const r=!i.includes(" ")&&k.exec(i);if(r)return e.t=1,e.n=+r[1],e.u=r[2],e;if(e.o)return e.n=+i,e;if(W(o=i)||B(o)||q(o))return e.t=2,e.d=B(a=i)?(t=>{const e=b.exec(t)||T.exec(t),i=M(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],i]})(a):W(a)?(t=>{const e=t.length,i=4===e||5===e;return[+("0x"+t[1]+t[i?1:2]),+("0x"+t[i?2:3]+t[i?2:4]),+("0x"+t[i?3:5]+t[i?3:6]),5===e||9===e?+(+("0x"+t[i?4:7]+t[i?4:8])/255).toFixed(3):1]})(a):q(a)?(t=>{const e=S.exec(t)||D.exec(t),i=+e[1]/360,n=+e[2]/100,s=+e[3]/100,r=M(e[4])?1:+e[4];let a,o,l;if(0===n)l=o=a=s;else{const t=s<.5?s*(1+n):s+n-s*n,e=2*s-t;l=et(255*Pt(e,t,i+1/3),0),o=et(255*Pt(e,t,i),0),a=et(255*Pt(e,t,i-1/3),0)}return[l,o,a,r]})(a):[0,0,0,1],e;var a,o;const l=i+m,c=l.match(v);return e.t=3,e.d=c?c.map(Number):[],e.s=l.split(v)||[],e},qt=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=at(t._toNumbers),e.s=at(t._strings),e),jt={t:0,n:0,u:null,o:null,d:null,s:null},Vt={},Ut=(t,e,i)=>{if(4===i){return _.get(t)||t}if(3===i||2===i&&F(e)&&t in e.style){const e=Vt[t];if(e)return e;const i=t.replace(E,"$1-$2").toLowerCase();return Vt[t]=i,i}return t},zt={deg:1,rad:180/K,turn:360},Ht=t=>(t.offsetWidth||0)/100,Qt={},Xt=(t,e,i)=>{const s=e.u,r=e.n;if(1===e.t&&s===i)return e;const a=r+s+i,o=Qt[a];if(M(o)){let o;if(s in zt)o=r*zt[s]/zt[i];else{const e=100,a=n.createElement(t.tagName),l=a.style,c=t.parentNode,u=c&&c!==n?c:n.body;u.appendChild(a),l.position="absolute",l.width=e+s;const h=Ht(a);l.width=e+i;const d=h/Ht(a);u.removeChild(a),o=d*r}e.n=o,Qt[a]=o}else e.n=o;return e.t,e.u=i,e},Yt={_rep:new WeakMap,_add:new Map},Zt=(t,e,i="_rep")=>{const n=Yt[i];let s=n.get(t);return s||(s={},n.set(t,s)),s[e]?s[e]:s[e]={_head:null,_tail:null}},Jt=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,Gt=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=u,t._currentTime=u},Kt=(t,e)=>{const i=t._composition;if(i===s.replace){const i=t._absoluteStartTime;ut(e,t,Jt,"_prevRep","_nextRep");const n=t._prevRep;if(n){const e=n.parent,s=n._absoluteStartTime+n._changeDuration;if(t.parent.id!==e.id&&e._iterationCount>1&&s+(e.duration-e._iterationDuration)>i){Gt(n);let t=n._prevRep;for(;t&&t.parent.id===e.id;)Gt(t),t=t._prevRep}const r=i-t._delay;if(s>r){const t=n._startTime,e=s-(t+n._updateDuration);n._changeDuration=r-e-t,n._currentTime=n._changeDuration,n._isOverlapped=1,n._changeDuration<u&&Gt(n)}let a=0;lt(e,(t=>{a-=t._isOverridden-1})),0===a&&(e.completed=!0,e.pause())}}else if(i===s.blend){const e=Zt(t.target,t.property,"_add"),i=(t=>{let e=_t.animation;return e||(e={duration:u,_offset:0,_delay:0,_head:null,_tail:null},_t.animation=e,_t.update=()=>{t.forEach((t=>{for(const e in t){const i=t[e],n=i._head,s=3===n._valueType?at(n._fromNumbers):null;let r=n._fromNumber,a=i._tail;for(;a&&a!==n;)s?a._numbers.forEach(((t,e)=>s[e]+=t)):r+=a._number,a=a._prevAdd;n._toNumber=r,n._toNumbers=s}})),mt(e,1,1,0,2)}),e})(Yt._add);let n=e._head;n||(n={...t},n._composition=s.replace,n._updateDuration=u,n._startTime=0,n._numbers=at(t._fromNumbers),n._number=0,n._next=null,n._prev=null,ut(e,n),ut(i,n));const r=t._toNumber;if(t._fromNumber=n._fromNumber-r,t._toNumber=0,t._numbers=at(t._fromNumbers),t._number=0,n._fromNumber=r,t._toNumbers){const e=at(t._toNumbers);e&&e.forEach(((e,i)=>{t._fromNumbers[i]=n._fromNumbers[i]-e,t._toNumbers[i]=0})),n._fromNumbers=e}ut(e,t,null,"_prevAdd","_nextAdd")}return t},te=t=>{const e=t._composition;if(e!==s.none){const i=t.target,n=t.property,r=Zt(i,n);if(ct(r,t,"_prevRep","_nextRep"),e===s.blend){const e=Zt(i,n,"_add");ct(e,t,"_prevAdd","_nextAdd")}}return t},ee=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),ie=t=>t._cancelled?(t._hasChildren?lt(t,ie):lt(t,(t=>{t._composition!==s.none&&Kt(t,Zt(t.target,t.property))})),t._cancelled=0,t):t;let ne=0;class se extends ht{constructor(t={},e=null,i=0){super();const{id:n,delay:s,duration:r,reversed:a,alternate:o,loop:l,loopDelay:c,autoplay:h,frameRate:d,playbackRate:m,onComplete:_,onLoop:p,onBegin:g,onUpdate:y}=t,b=e?0:ft._elapsedTime,T=e?e.defaults:C,S=O(s)||M(s)?T.delay:+s,D=O(r)||M(r)?1/0:+r,v=It(l,T.loop),k=It(c,T.loopDelay),E=!0===v||v===1/0||v<0?1/0:v+1;this.id=M(n)?r===u?0:++ne:n,this.duration=nt((D+k)*E-k),this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=g||T.onBegin,this.onUpdate=y||T.onUpdate,this.onLoop=p||T.onLoop,this.onComplete=_||T.onComplete,this._autoplay=!e&&It(h,T.autoplay),this._offset=e?i:ft._elapsedTime-ft._startTime,this._delay=S,this._loopDelay=k,this._iterationTime=0,this._iterationDuration=D,this._iterationCount=E,this._currentIteration=0,this._resolve=f,this._hasChildren=!1,this._running=!1,this._cancelled=0,this._reversed=+It(a,T.reversed),this._alternate=It(o,T.alternate),this._backwards=!1,this._prev=null,this._next=null,this._elapsedTime=b,this._startTime=b,this._lastTime=b,this._fps=It(d,T.frameRate),this._speed=It(m,T.playbackRate)}reset(t=0){return ie(this),this._iterationTime=this._iterationDuration,mt(this,0,1,t,2),ee(this),this._hasChildren&&lt(this,ee),this}init(t=0){return this.frameRate=this._fps,this.playbackRate=this._speed,!t&&this._hasChildren&&mt(this,this.duration,1,t,2),this.reset(t),this._autoplay&&this.play(),this}resetTime(){const t=1/(this._speed*ft._speed);return this._startTime=x()-(this.currentTime+this._delay)*t-12,this}pause(){return this.paused||(this.paused=!0),this}play(){return this.paused?((this.completed||this._cancelled)&&this.reset(0),this.paused=!1,this.duration<=u?mt(this,1,0,0,2):(this._running||(ut(ft,this),ft._hasChildren=!0,this._running=!0),this.resetTime(),ft.start()),this):this}restart(){return this.reset(0).play()}seek(t,e){ie(this),this.completed=!1;const i=this.paused;return this.paused=!0,mt(this,t+this._delay,~~e,0,1),i?this:this.play()}reverse(){const t=this._reversed;return this._reversed=+(!this._alternate||this._iterationCount%2?!t:t),this.seek(this.duration-this.currentTime),this.resetTime(),this}cancel(){return this._hasChildren?lt(this,(t=>t.cancel()),!0):lt(this,te),this._cancelled=1,this.pause()}stretch(t){const e=this.duration;if(e===t)return this;const i=t/e;return this.duration=st(nt(e*i)),this._iterationDuration=st(nt(this._iterationDuration*i)),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}then(t=f){const e=()=>{this.then=null,t(this)};return new Promise((t=>this.completed?t(e()):this._resolve=()=>t(e())))}get progress(){return et(this.currentTime/this.duration,3)}set progress(t){const e=this.paused;this.pause().seek(this.duration*+t),e||this.play()}get playbackRate(){return super.playbackRate}set playbackRate(t){super.playbackRate=t,this.resetTime()}}const re=t=>{if(t._hasChildren)lt(t,re,!0);else{const e=t;e.pause(),lt(e,(t=>{const i=t.property,n=t.target;if(n[a]){const s=n.style,r=e._inlineStyles[i];if(4===t._tweenType){const e=n[l];if(M(r)||r===m?delete e[i]:e[i]=r,t._renderTransforms)if(Object.keys(e).length){let t=m;for(const i in e)t+=g[i]+e[i]+") ";s.transform=t}else s.removeProperty("transform")}else M(r)||r===m?s.removeProperty(i):s[i]=r;e._tail===t&&e.targets.forEach((t=>{t.getAttribute("style")===m&&t.removeAttribute("style")}))}}))}return t},ae={t:0,n:0,u:null,o:null,d:null,s:null},oe={t:0,n:0,u:null,o:null,d:null,s:null},le={func:null},ce=[null],ue=[null,null],he={to:null};let de,me,_e=0;class pe extends se{constructor(t,e,i,n,r=!1,a=0,o=0){super(e,i,n),this._head=null,this._tail=null;const l=Tt(t),c=l.length,h=e.keyframes,m=h?ot(((t,e)=>{const i={};if($(t)){const e=[].concat(...t.map((t=>Object.keys(t)))).filter(j);for(let n=0,s=e.length;n<s;n++){const s=e[n],r=t.map((t=>{const e={};for(const i in t){const n=t[i];j(i)?i===s&&(e.to=n):e[i]=n}return e}));i[s]=r}}else{const n=It(e.duration,C.duration),s=Object.keys(t).map((e=>({o:parseFloat(e)/100,p:t[e]}))).sort(((t,e)=>t.o-e.o));s.forEach((t=>{const e=t.o,s=t.p;for(const t in s)if(j(t)){let r=i[t];r||(r=i[t]=[]);const a=e*n,o=r.length,l=r[o-1],c={to:s[t]};let u=0;for(let t=0;t<o;t++)u+=r[t].duration;1===o&&(c.from=l.to),s.ease&&(c.ease=s.ease),c.duration=a-(o?u:0),r.push(c)}return t}));for(const t in i){const e=i[t];let n;for(let t=0,i=e.length;t<i;t++){const i=e[t],s=i.ease;n&&(i.ease=n),n=s}e[0].duration||e.shift()}}return i})(h,e),e):e,{delay:_,duration:p,ease:g,playbackEase:f,modifier:y,composition:b,onRender:T}=m,S=i?i.defaults:C,D=It(f,S.playbackEase),v=D?$t(D):null,k=!M(g)&&A(g),E=k?g.solver:It(g,v?"linear":S.ease),w=k?g.duration:It(p,S.duration),N=It(_,S.delay),R=y||S.modifier,x=M(b)&&c>=d?s.none:M(b)?P(S.composition)?S.composition:s[S.composition]:P(b)?b:s[b],I={},O=this._offset;let L=NaN,F=NaN,W=0;for(let t=0;t<c;t++){const e=l[t],n=a||t,h=o||c;let d=NaN,_=NaN;for(const t in m)if(j(t)){const a=Mt(e,t);if(0!==a){const o=Ut(t,e,a);let l=m[t];if(r&&(ue[0]=l,ue[1]=l,l=ue),$(l)){const t=l.length,e=!A(l[0]);2===t&&e?(he.to=l,ce[0]=he,de=ce):t>2&&e?(de=[],l.forEach(((t,e)=>{e?1===e?(ue[1]=t,de.push(ue)):de.push(t):ue[0]=t}))):de=l}else ce[0]=l,de=ce;let c=null,p=null,g=NaN,f=0,y=0;for(let t=de.length;y<t;y++){const r=de[y];A(r)?me=r:(he.to=r,me=he),le.func=null;const l=Ot(me.to,e,n,h,le);let d;A(l)&&!M(l.to)?(me=l,d=l.to):d=l;const m=Ot(me.from,e,n,h),_=me.ease,b=!M(_)&&A(_),T=b?_.solver:_||E,S=b?_.duration:Ot(It(me.duration,t>1?Ot(w,e,n,h)/t:w),e,n,h),D=Ot(It(me.delay,y?0:N),e,n,h),v=Ot(It(me.composition,x),e,n,h),k=me.modifier||R,C=$(d),P=C||!M(m)&&!M(d),L=p?f+D:D,F=O+L;let B=p;if(v!==s.none){c||(c=Zt(e,o));let t=c._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=F;)if(B=t,t=t._nextRep,t&&t._absoluteStartTime>=F)for(;t;)Gt(t),t=t._nextRep}if(P?(Bt(C?Ot(d[0],e,n,h):m,ae),Bt(C?Ot(d[1],e,n,h,le):d,oe),0===ae.t&&(B?1===B._valueType&&(ae.t=1,ae.u=B._unit):(Bt(Ft(e,o,a,I),jt),1===jt.t&&(ae.t=1,ae.u=jt.u)))):(M(d)?p?qt(p,oe):Bt(i&&B?B._value:Ft(e,o,a,I),oe):Bt(d,oe),M(m)?p?qt(p,ae):Bt(i&&B?B._value:Ft(e,o,a,I),ae):Bt(m,ae)),ae.o&&(ae.n=Wt(B?B._toNumber:Bt(Ft(e,o,a,I),jt).n,ae.n,ae.o)),oe.o&&(oe.n=Wt(ae.n,oe.n,oe.o)),ae.t!==oe.t)if(3===ae.t||3===oe.t){const t=3===ae.t?ae:oe,e=3===ae.t?oe:ae;e.t=3,e.s=at(t.s),e.d=t.d.map((()=>e.n))}else if(1===ae.t||1===oe.t){const t=1===ae.t?ae:oe,e=1===ae.t?oe:ae;e.t=1,e.u=t.u}else if(2===ae.t||2===oe.t){const t=2===ae.t?ae:oe,e=2===ae.t?oe:ae;e.t=2,e.s=t.s,e.d=[0,0,0,1]}if(ae.u!==oe.u){let t=oe.u?ae:oe;t=Xt(e,t,oe.u?oe.u:ae.u)}if(oe.d&&ae.d&&oe.d.length!==ae.d.length){const t=ae.d.length>oe.d.length?ae:oe,e=t===ae?oe:ae;e.d=t.d.map(((t,i)=>M(e.d[i])?0:e.d[i])),e.s=at(t.s)}const q=+S||u,j={parent:this,id:_e++,property:o,target:e,_value:null,_func:le.func,_ease:$t(T),_fromNumbers:at(ae.d),_toNumbers:at(oe.d),_strings:at(oe.s),_fromNumber:ae.n,_toNumber:oe.n,_numbers:null,_number:0,_unit:oe.u,_modifier:k,_currentTime:0,_startTime:L,_delay:+D,_updateDuration:q,_changeDuration:q,_absoluteStartTime:F,_tweenType:a,_valueType:oe.t,_composition:v,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};v!==s.none&&Kt(j,c),isNaN(g)&&(g=j._startTime),f=L+q,p=j,W++,ut(this,j)}(isNaN(F)||g<F)&&(F=g),(isNaN(L)||f>L)&&(L=f),4===a&&(d=W-y,_=W)}}if(!isNaN(d)){let t=0;lt(this,(e=>{t>=d&&t<_&&(e._renderTransforms=1,e._composition===s.blend&&lt(_t.animation,(t=>{t.id===e.id&&(t._renderTransforms=1)}))),t++}))}}c||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),F?(lt(this,(t=>{t._startTime-t._delay||(t._delay-=F),t._startTime-=F})),L-=F):F=0,L||(L=u,this._iterationCount=0),this.targets=l,this.duration=nt((L+this._loopDelay)*this._iterationCount-this._loopDelay)||u,this.onRender=T||S.onRender,this._ease=v,this._delay=F,this._iterationDuration=L,this._inlineStyles=I}stretch(t){const e=this.duration;if(e===t)return this;const i=t/e;return lt(this,(t=>{t._updateDuration=st(t._updateDuration*i),t._changeDuration=st(t._changeDuration*i),t._currentTime*=i,t._startTime*=i,t._absoluteStartTime*=i})),super.stretch(t)}refresh(){return lt(this,(t=>{const e=Ft(t.target,t.property,t._tweenType);Bt(e,jt),t._fromNumbers=at(jt.d),t._fromNumber=jt.n,t._func&&(Bt(t._func(),oe),t._toNumbers=at(oe.d),t._toNumber=oe.n)})),this}revert(){return mt(this,0,1,0,2),re(this),this.cancel()}then(t){return super.then(t)}}const ge=(t,e)=>{let i=t._iterationDuration;if(i===u&&(i=0),M(e))return i;if(P(+e))return+e;const n=e,s=t?t.labels:null,r=!L(s),a=((t,e)=>{if(R(e,"<")){const i="<"===e[1],n=t._tail,s=n?n._offset+n._delay:0;return i?s:s+n.duration}})(t,n),o=!M(a),l=N.exec(n);if(l){const t=l[0],e=n.split(t),c=r&&e[0]?s[e[0]]:i,u=o?a:r?c:i,h=+e[1];return Wt(u,h,t[0])}return o?a:r?M(s[n])?i:s[n]:i};function fe(t,e,i,n,s,r){const a=P(t.duration)&&t.duration<=u?i-u:i;mt(e,a,1,1,1);const o=n?new pe(n,t,e,a,!1,s,r):new se(t,e,a);return o.init(1),ut(e,o),lt(e,(t=>{const i=t._offset+t._delay+t.duration;i>e._iterationDuration&&(e._iterationDuration=i)})),e.duration=nt((e._iterationDuration+e._loopDelay)*e._iterationCount-e._loopDelay),e}class ye extends se{constructor(t={}){super(t,null,0),this.duration=0,this.labels={};const e=t.defaults;this.defaults=t&&e?ot(e,C):C,this.onRender=t.onRender||C.onRender;const i=It(t.playbackEase,C.playbackEase);this._ease=i?$t(i):null,this._iterationDuration=0,this._head=null,this._tail=null}add(t,e,i){const n=A(e),s=A(t),r=O(t);if(n||s||r){if(this._hasChildren=!0,n){const n=e;if(O(i)){const e=i,s=bt(t),r=this.duration,a=this._iterationDuration,o=n.id;let l=0;const c=s.length;s.forEach((t=>{const i={...n};this.duration=r,this._iterationDuration=a,M(o)||(i.id=o+"-"+l),fe(i,this,e(t,l,c,this),t,l,c),l++}))}else fe(n,this,ge(this,i),t)}else fe(s?t:{onComplete:t,duration:u},this,ge(this,e));return this.init(1),this._autoplay?this.play():this}if(I(t))return this.labels[t]=ge(this,e),this}set(t,e,i){return M(e)?this:(e.duration=u,e.composition=s.replace,this.add(t,e,i))}stretch(t){const e=this.duration;if(e===t)return this;const i=t/e,n=this.labels;lt(this,(t=>{t.stretch(t.duration*i)}));for(const t in n)n[t]*=i;return super.stretch(t)}refresh(){return lt(this,(t=>{t.refresh()})),this}revert(){return mt(this,0,1,0,2),re(this),lt(this,(t=>t.revert),!0),this.cancel()}then(t){return super.then(t)}}const be=(t,e)=>{let i=!1;return lt(e,(n=>{t.includes(n.target)&&(ct(e,n),i=!0)}),!0),i},Te=(t,e)=>{const i=bt(t),n=e||ft;let s;if(n._hasChildren?lt(n,(e=>{e._hasChildren||(s=be(i,e),s&&!e._head&&ct(n,e)),e._head?Te(t,e):e._hasChildren=!1}),!0):s=be(i,n),s&&!n._head){n._hasChildren=!1;const t=n;t.pause&&t.pause()}return i},Se=(t,e,i)=>{const n=10**(i||0);return Z((Math.random()*(e-t+1/n)+t)*n)/n},De=t=>(...e)=>{const i=t(...e);return new Proxy(f,{apply:(t,e,[n])=>i(n),get:(t,e)=>De(((...t)=>{const n=ke[e](...t);return t=>n(i(t))}))})},ve=(t,e=0)=>(...i)=>(i.length<t.length?De(((t,e=0)=>(...i)=>e?e=>t(...i,e):e=>t(e,...i))(t,e)):t)(...i),ke={$:Tt,get:function(t,e,i){const n=Tt(t);if(!(L(n)||$(n)&&!n.length)&&n&&n.length){const[t]=n,s=Mt(t,e),r=Ut(e,t,s),a=Ft(t,r);if(M(i))return a;if(Bt(a,jt),0===jt.t||1===jt.t){if(!1===i)return jt.n;const e=Xt(t,jt,i);return`${et(e.n,3)}${e.u}`}}},set:(t,e)=>{if(!M(e))return e.duration=u,e.composition=It(e.composition,s.none),new pe(t,e,null,0,!0).play()},remove:Te,cleanInlineStyles:re,random:Se,randomPick:t=>t[Se(0,t.length-1)],shuffle:t=>{let e,i,n=t.length-1;for(;n;)i=Se(0,n--),e=t[n],t[n]=t[i],t[i]=e;return t},lerp:(t,e,i,n)=>{const s=n||ft._hasChildren&&ft;let r=i;return s&&s.deltaTime&&(r=1-Math.exp(-i*s.deltaTime*.1)),(1-r)*t+r*e},clamp:ve(tt),round:ve(et),snap:ve(((t,e)=>e?Math.round(t/e)*e:t)),wrap:ve(((t,e,i)=>((t-e)%(i-e)+(i-e))%(i-e)+e)),interpolate:ve(it,1),mapRange:ve(((t,e,i,n,s)=>n+(t-e)/(i-e)*(s-n))),roundPad:ve(((t,e)=>t.toFixed(e))),padStart:ve(((t,e,i)=>`${t}`.padStart(e,i))),padEnd:ve(((t,e,i)=>`${t}`.padEnd(e,i))),degToRad:ve((t=>t*K/180)),radToDeg:ve((t=>180*t/K))},Ee=(new Map,(t,e={})=>{let i=[],n=0;const s=e.from,r=e.reversed,a=e.ease,o=!M(a),l=o&&A(a)?a.solver:o?$t(a):null,c=e.grid,u=e.axis,h=M(s)||0===s||"first"===s,d="center"===s,m="last"===s,_=$(t),p=V(_?t[0]:t),g=_?V(t[1]):0,f=k.exec(_?t[1]:t),y=e.start||0+(_?p:0);let b=h?0:P(s)?s:0;return(t,s,a,o)=>{if(d&&(b=(a-1)/2),m&&(b=a-1),!i.length){for(let t=0;t<a;t++){if(c){const e=d?(c[0]-1)/2:b%c[0],n=d?(c[1]-1)/2:Z(b/c[0]),s=e-t%c[0],r=n-Z(t/c[0]);let a=z(s*s+r*r);"x"===u&&(a=-s),"y"===u&&(a=-r),i.push(a)}else i.push(X(b-t));n=G(...i)}l&&(i=i.map((t=>l(t/n)*n))),r&&(i=i.map((t=>u?t<0?-1*t:-t:X(n-t))))}const h=_?(g-p)/n:p;let T=(o?ge(o,M(e.start)?o._iterationDuration:y):y)+(h*et(i[s],2)||0);return e.modifier&&(T=e.modifier(T)),f&&(T=`${T}${f[2]}`),T}});e&&(i.AnimeJS||(i.AnimeJS=[]),i.AnimeJS.push({version:"4.0.0-beta.99.1",engine:ft}),n.addEventListener("visibilitychange",(()=>ft.suspendWhenHidden?n.hidden?ft.suspend():ft.resume():0)));class we{constructor(t,e){this.data=t,this.timeline=e,this.interactionKey=this.timeline.interaction.key,this.isPreviewEditing=!1}get type(){return this.data.type}get timing(){return this.data.timing}get target(){return this.data.target}get key(){return this.data.key}get debugMode(){return this.timeline.debugMode}stopTimeline(){this.timeline.destroy(!1)}getRunner(){return this.timeline.getRunner()}getRawValue(t){return this.data.value[t]}getValue(t,e){let i=this.getRawValue(t);if("string"!=typeof i)return i;let n=!1,s=!1;const r=t=>{const e=t?t.trim():"",i=this.timeline.getProvidedValue(e);return void 0!==i?(s=!0,i):""};return i=i.trim(),i=i.replace(/data\.([\w\d\-_]+)/g,((t,e)=>(n=!0,r(e)))),i=i.replace(/(\{\{\s*.*?\s*\}\})/g,(t=>{n=!0;const e=t.slice(2,-2);return r(e)})),!n||s||!e?.toLowerCase().includes("color")&&"background"!==e?i:""}getAllProvidedData(){return this.timeline.getAllProvidedData()}provideData(t,e){const i=this.getValue(t);this.timeline.provideData({[i]:e}),this.debugMode&&console.debug(`[WPI Debug] Data for "${i}" updated:`,{...this.timeline.getAllProvidedData()})}getTargets(){return this.timeline.interaction.getTargets(this.data.target,this,this.timeline.interaction.getCurrentTrigger())}fixColorOptions(t,e){Object.keys(t).forEach((i=>{if("string"==typeof t[i]&&t[i].startsWith("var(")){const n=t[i];t[i]=()=>{const t=window.getComputedStyle(e[0]),i=n.replace(/^var\((.+)\)$/,"$1").split(",")[0];return t.getPropertyValue(i)}}}))}initActionAnimation(t){const e=t.targets||this.getTargets();if(this.debugMode){const i=t.onBegin?t.onBegin:null;t.onBegin=t=>{console.debug("[WPI Debug] Running action:",{...this.data},"on targets:",e),i&&i(t)}}if(this.isPreviewEditing&&1===e.length&&(e[0]===document.body||e[0]===window))return;this.timeline._targets.push(e);const i={};if(this.fixColorOptions(t,e),"time"===this.timeline.type)this.timing.isStartingState?this._didStartingSet?this._animationWithStartingState.play():(this._animationWithStartingState=ke.set(e,{...t,...i}),this._didStartingSet=!0):this.timeline._animation.add(e,{..."custom"===this.timing.easing?{ease:this.timing.customEasing}:this.timing.easing?{ease:this.timing.easing}:{},duration:this.isPreviewEditing?0:1e3*this.timing.duration,...t,...i},this.getStartTime(1e3*this.timing.start+50));else{const n=this.getUniqueId(e);if(void 0===this.timeline._actionStarts[n]&&(this.timeline._actionStarts[n]={}),void 0===this.timeline._actionStarts[n][this.type])this.timing.isStartingState||(this.timeline._actionStarts[n][this.type]={action:this,options:t},this.timeline._animation._hasStarted||(this.timeline._animation.add(e,{duration:0,...t,...i},0),this.timeline._animation.seek(0)));else{const{action:e,options:s}=this.timeline._actionStarts[n][this.type],r=e.timing,a=this.timing.start-r.start,o=Object.keys(s).reduce(((e,i)=>(i.startsWith("on")||"modifier"===i||"composition"===i?e[i]=t[i]:e[i]=[s[i],t[i]],e)),{});this.timeline._animation.add(s.targets||e.getTargets(),{..."custom"===r.easing?{ease:r.customEasing}:r.easing?{ease:r.easing}:{},duration:a,...o,...i},this.getStartTime(r.start,r)),this.timeline._actionStarts[n][this.type]={action:this,options:t}}}}initActionFunction(t){if(void 0===this.timeline._funcPromises&&(this.timeline._funcPromises={}),void 0===this.timeline._funcPromises[this.timing.start]&&(this.timeline._funcPromises[this.timing.start]=[]),this.timeline._funcPromises[this.timing.start].push((()=>(this.debugMode&&console.debug("[WPI Debug] Running action:",{...this.data}),t(this.getTargets())))),-1===this.timing.start){const t=this.timeline._funcPromises[this.timing.start];t[t.length-1]?.()}1===this.timeline._funcPromises[this.timing.start].length&&-1!==this.timing.start&&("time"===this.timeline.type?this.timeline._animation.add((()=>{if(this.getRunner().actionFuncsDisabled)return;const t=this.timeline._animation.paused;this.timeline.pause();let e=Promise.resolve();this.timeline._funcPromises[this.timing.start].forEach((t=>{e=e.then((()=>{const e=t();return!1===e?Promise.reject():e}))})),e.then((()=>{t||this.timeline._animation.play()})).catch((()=>{this.debugMode&&console.debug("[WPI Debug] Timeline was stopped")}))}),1e3*this.timing.start):this.timeline._animation.add((()=>{let t=Promise.resolve();this.timeline._funcPromises[this.timing.start].forEach((e=>{t=t.then((()=>e()))}))}),this.timing.start))}getStartTime(t,e=null){const i=e||this.timing;return i.stagger?Ee(1e3*i.stagger,{start:t}):t}getUniqueId(t){return t.reduce(((t,e)=>(e._wpiuid||(e._wpiuid=Ne++),t+"-"+e._wpiuid)),"wpi")}removeStartingStyles(){this._ignoreStartingStyles=!0,this.getRunner().recomputeStartingActionStyles()}}let Ne=1;class Ce{constructor(t,e){this.timelineData=t,this.interaction=e,this.type=this.getRunner().getTimelineType(e),t&&(this.actions=this.timelineData.actions.map((t=>new we(t,this))),this._resetAtStart=!!t.reset,this._onceOnly=!!t.onceOnly,this._actionStarts={}),this._targets=[]}get debugMode(){return this.timelineData.debug}get hasActions(){return this.actions.length>0}createInstance(t){if(this.getRunner().isFrontend&&this.timelineData.onceOnly&&this.timelineData._played)return null;this._funcPromises={},this.timelineData._played=!0;const e={};"percentage"===this.type&&(e.duration=100);const i={loop:this.timelineData.loop?this.timelineData.loopTimes||!0:!!this.timelineData.alternate&&1,loopDelay:this.timelineData.loop?1e3*this.timelineData.loopDelay||0:void 0,reversed:this.timelineData.reverse,alternate:this.timelineData.alternate,...t,...e},n={onBegin:()=>{const t=t=>t.style?.setProperty("transition","none","important");this._targets.forEach((e=>{Array.isArray(e)?e.forEach(t):t(e)})),this.debugMode&&console.debug("[WPI Debug] Timeline started. Triggered by:",this.interaction.getCurrentTrigger())},onComplete:()=>{const t=t=>t.style?.removeProperty("transition");this._targets.forEach((e=>{Array.isArray(e)?e.forEach(t):t(e)})),this.debugMode&&console.debug("[WPI Debug] Timeline completed")},onLoop:()=>{if(this.debugMode){this._debugLoopCount=(this._debugLoopCount||0)+1;const t=1===this._debugLoopCount?"1st":2===this._debugLoopCount?"2nd":3===this._debugLoopCount?"3rd":`${this._debugLoopCount}th`;console.debug(`[WPI Debug] Looping: ${t} time`)}}},s=(r={...i,autoplay:!1,defaults:{ease:"outCirc",autoplay:!1},...this.getRunner().isFrontend?n:{}},new ye(r).init());var r;return"percentage"===this.type&&s.add({duration:100},0),this._targets=[],this._actionStarts={},this._dynamicData={},this.debugMode&&(console.debug("[WPI Debug] Interaction starting: ",this.interaction.data),console.debug("[WPI Debug] Initializing timeline with arguments:",i)),this._animation=s,this.actions.forEach((t=>{const e=this.getRunner().getActionConfig(t.type);e&&e.initAction(t)})),this}getRunner(){return this.interaction.getRunner()}getProvidedValue(t){if(this._dynamicData[t])return this._dynamicData[t]}getAllProvidedData(){return this._dynamicData}provideData(t){this._dynamicData={...this._dynamicData,...t}}getStartTime(t,e){return e.stagger?Ee(1e3*e.stagger,{start:t}):t}getProgress(){return this._animation?this._animation.currentTime/this._animation.duration:0}play(){this._animation&&(this._animation.reset(),this._animation.play())}seek(t){this._animation&&this._animation.seek(t)}seekPercentage(t,e=0){if(this._animation)if(e){const s=parseInt(e,10);let r=ke.lerp(0,1,Math.abs(t-this._animation.progress));r*=r,r=ke.interpolate(s,s+300,r),i=this._animation,n={progress:t,duration:r,ease:"outQuad",composition:this.getRunner().isFrontend?"blend":"replace"},new pe(i,n,null,0,!1).init()}else this._animation.seek(this._animation.duration*t);var i,n}pause(){this._animation&&this._animation.pause()}destroy(t=!0){if((!this.timelineData.loop||!this.timelineData.onceOnly)&&this._animation){const e=this._resetAtStart&&!this._onceOnly;this._animation.pause(),t||e?this._animation.revert():this._animation.cancel()}}}class Re{constructor(t,e){this.interactionData=t,this.runner=e,this._destroyFuncs=[],this.interactionData&&(this.timelines=this.interactionData.timelines.map((t=>new Ce(t,this))))}get data(){return this.interactionData}get key(){return this.interactionData.key}get type(){return this.interactionData.type}getRunner(){return this.runner}getDocument(){return this.runner.getDocument()}getOption(t,e){return void 0!==this.interactionData.options?.[t]&&""!==this.interactionData.options?.[t]?this.interactionData.options?.[t]:e}createTimelineInstance(t=0,e={}){return this.timelines[t].createInstance(e)}cloneWithTrigger(t){const e=new Re;return Object.assign(e,this),e._currentTrigger=t,e.timelines=this.timelines.map(((t,i)=>new Ce(this.interactionData.timelines[i],e))),e}init(){let t=this.getTargets(this.interactionData.target);const e=this.runner.getInteractionConfig(this.interactionData.type);"page"===e?.type&&0===t.length&&(t=[document.body]),this.triggerElements=t,e&&t.forEach((t=>{const i=this.cloneWithTrigger(t),n=e.initTimeline(i);n&&this._destroyFuncs.push(n)}))}getTriggers(){return this.triggerElements}getCurrentTrigger(){return this._currentTrigger||this.triggerElements&&this.triggerElements[0]}destroy(){this._destroyFuncs.forEach((t=>t()))}compileStartingStyles(){const t=this.getTargetsSelector(this.interactionData.target),e={};this.timelines.forEach((i=>{i.actions.forEach((i=>{if(!i.timing.isStartingState)return"";if(i._ignoreStartingStyles)return"";const n=this.runner.getActionConfig(i.type);if(!n)return"";let s=this.getTargetsSelector(i.target,t);if(n.blockElementSelector&&("block"===i.target.type||"block-name"===i.target.type||"class"===i.target.type)){const t="block"===i.target.type?i.target.blockName:i.target.value;s=n.blockElementSelector(s,new xe(t))}if(n.initialStyles){const t=n.initialStyles(i);e[s]||(e[s]=[]),t&&e[s].push(t)}}))}));let i="";return Object.keys(e).length&&Object.keys(e).forEach((t=>{let n=`${t} {`;e[t].forEach((t=>{t.startsWith("transform:")&&n.includes("transform:")?n=n.replace("transform:",t.replace(/;$/,"")):n+=t})),n+="}",i+=n})),i}compileStartingScripts(){const t=[];return this.timelines.forEach((e=>{e.actions.forEach((e=>{const i=this.runner.getActionConfig(e.type);return i&&e.timing.isStartingState?void(i.runInitialScript&&t.push((()=>{try{this.getTargets(this.interactionData.target).forEach((t=>{const n=this.getTargets(e.target,null,t);i.runInitialScript(e,n)}))}catch(t){console.log("[WPI] Error in runInitialScript: ",t)}}))):""}))})),t}getTargets(t,e=null,i=null){const n=this._getTargets(t,i);return e?this.fixTargetForBlock(n,e):n}_getTargets(t,e){const{type:i,value:n,options:s=""}=t;if("trigger"===i)return Array.isArray(e)?e:[e];if("window"===i)return[window];if("document"===i)return[document];const r="block"===i?`#${n}`:"class"===i?`.${n}`:"block-name"===i?this._getBlockNameSelector(n):n;let a=[];try{a=Array.from(this.getDocument().querySelectorAll(r))}catch(t){}return s?this._filterTargets(a,s,e):a}_filterTargets(t,e,i){return"first"===e?t.slice(0,1):"last"===e?t.slice(-1):t.reduce(((t,n)=>{if("content-area"===e)this.isFrontend?n.closest(".entry-content")&&t.push(n):t.push(n);else if("not-trigger"===e)n!==i&&t.push(n);else if("children"===e)i?.contains(n)&&n!==i&&t.push(n);else if("siblings"===e)n.parentElement===i?.parentElement&&n!==i&&t.push(n);else if("siblings-with-trigger"===e)n.parentElement===i?.parentElement&&t.push(n);else if("parent"===e)n.contains(i)&&t.push(n);else if("same-index"===e){const e=Array.from(i?.parentElement.children||[]).indexOf(i);n.parentElement.children[e]===n&&n!==i&&t.push(n)}else if("same-index-with-trigger"===e){const e=Array.from(i?.parentElement.children||[]).indexOf(i);n.parentElement.children[e]===n&&t.push(n)}else if("not-same-index"===e){const e=Array.from(i?.parentElement.children||[]).indexOf(i);n.parentElement.children[e]!==n&&n!==i&&t.push(n)}else"first"===e&&0===t.length&&t.push(n);return t}),[])}getTargetsSelector(t,e=""){const{type:i,value:n,options:s}=t;if("trigger"===i)return e;const r="block"===i?this._getBlockSelector(n):"class"===i?`.${n}`:"block-name"===i?this._getBlockNameSelector(n):n;return s?this._filterTargetsSelector(r,s,e):r}_filterTargetsSelector(t,e,i){const n=t.includes(",")?`:is(${t})`:t;return"content-area"===e?this.isFrontend?`.entry-content ${n}`:n:"not-trigger"===e?`${n}:not(${i})`:"children"===e?`${i} ${n}`:"siblings"===e?`*:has(> ${i}) > ${n}:not(${i})`:"siblings-with-trigger"===e?`*:has(> ${i}) > ${n}`:"parent"===e?`*:has(> ${i}) ${n}`:n}_getBlockSelector(t){if(this.runner.isFrontend)return`#${t}`;const e=this.runner.getBlockClientId(t);return e?`#block-${e}`:`#${t}`}_getBlockNameSelector(t){return this.runner.isFrontend?t.startsWith("core/")?`.wp-block-${t.replace("core/","")}`:`.wp-block-${t.replace("/","-")}`:`[data-type="${t}"]`}fixTargetForBlock(t,e){const i=this.runner.getConfig().actions[e.type];return i?t.map((t=>{if(i.blockElementSelector){const e=i.blockElementSelector(":scope",new xe(t));if(":scope"!==e)return t.querySelector(e)||t}return t})).filter((t=>null!=t)):t}}class xe{constructor(t){this.blockNameOrElement=t}isBlock(t){if(!this.blockNameOrElement)return!1;if("string"==typeof this.blockNameOrElement)return this.blockNameOrElement===t;const e=t.replace(/^core\//g,"").replace(/\//g,"-");return this.blockNameOrElement.classList.contains(`wp-block-${e}`)}}window.WPIRunner=new class{constructor(){this._config={interactions:{},actions:{}},this._interactionData={},this._initialCallbacks=[],this._startingStyles="",this.isFrontend=!0,this.interactions=[]}spawn(){const t=new this.constructor;return Object.assign(t,this),t}addInteractionConfig(t){Object.keys(t).forEach((e=>{this._config.interactions[e]={...this._config.interactions[e]||{},...t[e]}}))}addActionConfig(t){this._config.actions={...this._config.actions,...t}}getConfig(){return this._config}getInteractionConfig(t){return this._config.interactions[t]}getActionConfig(t){return this._config.actions[t]}getDocument(){return document}getTimelineType(t){return this.getInteractionConfig(t.type)?.timelineType}configure(t){this.interactions.length&&this.interactions.forEach((t=>{t.destroy(!0)})),this._interactionData=t,this.interactions=[],this._interactionData.forEach((t=>{this.interactions.push(new Re({...t},this))})),this.configureStartingActions()}configureStartingActions(){this._startingStyles="",this._initialCallbacks=[],this.interactions.forEach((t=>{this._startingStyles+=t.compileStartingStyles(),this._initialCallbacks=[...this._initialCallbacks,...t.compileStartingScripts()]})),this.isFrontend&&(this._initStylesEl=document.createElement("style"),this._initStylesEl.setAttribute("id","wpi-action-starting-states"),this._initStylesEl.innerHTML=this._startingStyles,document.head.appendChild(this._initStylesEl))}recomputeStartingActionStyles(){this._startingStyles=this.interactions.map((t=>t.compileStartingStyles())).join(""),this.isFrontend&&this._initStylesEl&&(this._initStylesEl.innerHTML=this._startingStyles)}getStartingActionStyles(){return this._startingStyles}init(){this.isFrontend&&this._initialCallbacks.length&&t((()=>{this._initialCallbacks.forEach((t=>t()))})),this.interactions.forEach((t=>{t.init()}))}destroy(){this.interactions.forEach((t=>{t.destroy()}))}},t((()=>{setTimeout((()=>window.WPIRunner.init()),1)}))})();